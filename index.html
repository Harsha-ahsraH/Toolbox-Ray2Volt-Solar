<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ray2Volt Toolbox</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Nunito+Sans:wght@400;600;700&display=swap"
        rel="stylesheet">
    <!-- Google Sans Flex (if available via your Google Workspace) -->
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Flex:wght@500;600;700&display=swap"
        rel="stylesheet">

    <!-- Chart.js for visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Custom Stylesheet -->
    <link rel="stylesheet" href="style.css">
    <!-- Receipt Stylesheet -->
    <link rel="stylesheet" href="receipt.css">
    <!-- Invoice Stylesheet -->
    <link rel="stylesheet" href="invoice.css">
</head>

<body>
    <div class="app-container">
        <!-- Mobile Header (Visible on small screens) -->
        <header class="mobile-header">
            <img src="Logo.png" alt="Company Logo" class="mobile-logo">
            <button class="mobile-nav-toggle" id="mobileNavToggle" aria-label="Open navigation menu">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
                </svg>
            </button>
        </header>

        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div>
                <div class="logo-header">
                    <button class="sidebar-close-btn" id="sidebarCloseBtn"
                        aria-label="Close navigation menu">&times;</button>
                    <img src="Logo.png" alt="Company Logo" class="logo">
                    <h2>Toolbox</h2>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li><a href="#" class="nav-link active" data-target="dashboard-section">Dashboard</a></li>
                        <li><a href="#" class="nav-link" data-target="emi-calculator-section">EMI Calculator</a></li>
                        <li><a href="#" class="nav-link" data-target="gst-calculator-section">GST Calculator</a></li>
                        <li><a href="#" class="nav-link" data-target="prices-section">Package Prices</a></li>
                        <li><a href="#" class="nav-link" data-target="receipt-generator-section">Payment Receipt</a>
                        </li>
                        <li><a href="#" class="nav-link" data-target="invoice-generator-section">Invoice Generator</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <section id="dashboard-section" class="content-section active">
                <header class="section-header">
                    <h1>Toolbox Dashboard</h1>
                    <p>Welcome! Select a tool from the sidebar to get started.</p>
                </header>
                <div class="tool-grid">
                    <div class="tool-card" data-target="emi-calculator-section">
                        <h3>EMI Calculator</h3>
                        <p>Calculate equated monthly installments for loans.</p>
                    </div>
                    <div class="tool-card" data-target="gst-calculator-section">
                        <h3>GST Calculator</h3>
                        <p>Add or remove GST for inter/intra-state transactions.</p>
                    </div>
                    <div class="tool-card" data-target="prices-section">
                        <h3>Package Prices</h3>
                        <p>View standard pricing for solar packages.</p>
                    </div>
                    <div class="tool-card" data-target="receipt-generator-section">
                        <h3>Payment Receipt</h3>
                        <p>Generate professional payment receipts.</p>
                    </div>
                    <div class="tool-card" data-target="invoice-generator-section">
                        <h3>Invoice Generator</h3>
                        <p>Generate professional GST invoices for solar projects.</p>
                    </div>
                </div>
            </section>

            <section id="emi-calculator-section" class="calculator-panel content-section">
                <h2>EMI Calculator</h2>
                <div class="emi-layout">
                    <div class="calculator-inputs">
                        <!-- Calculation Mode Selector -->
                        <div class="control-group calc-mode-group">
                            <strong>Calculation Mode</strong>
                            <div class="button-group calc-mode-buttons">
                                <button id="calcEmiBtn" class="btn active"
                                    title="Calculate EMI from Principal, Rate & Tenure">Calculate EMI</button>
                                <button id="calcTenureBtn" class="btn"
                                    title="Calculate Tenure from Principal, Rate & EMI">Calculate Tenure</button>
                                <button id="calcRateBtn" class="btn"
                                    title="Calculate Interest Rate from Principal, Tenure & EMI">Calculate Rate</button>
                            </div>
                            <small class="input-help" id="calcModeHelp">Enter loan details to calculate EMI</small>
                        </div>

                        <div class="input-group">
                            <label for="loanAmount">Loan Amount (₹)</label>
                            <input type="number" id="loanAmount" class="input-field" value="1000000" min="10000"
                                max="10000000" step="10000">
                            <input type="range" id="loanAmountSlider" class="slider" value="1000000" min="10000"
                                max="10000000" step="10000">
                        </div>
                        <div class="input-group">
                            <label for="interestRate">Annual Interest Rate (%)</label>
                            <input type="number" id="interestRate" class="input-field" value="8.5" min="1" max="20"
                                step="0.1">
                            <input type="range" id="interestRateSlider" class="slider" value="8.5" min="1" max="20"
                                step="0.1">
                        </div>
                        <div class="input-group">
                            <label for="loanTenure">Loan Tenure (Months)</label>
                            <input type="number" id="loanTenure" class="input-field" value="120" min="6" max="360"
                                step="1">
                            <input type="range" id="loanTenureSlider" class="slider" value="120" min="6" max="360"
                                step="1">
                        </div>
                        <div class="control-group">
                            <strong>Interest Calculation Method</strong>
                            <div class="button-group">
                                <button id="reducingBalanceBtn" class="btn active">Reducing Balance</button>
                                <button id="flatRateBtn" class="btn">Flat Rate</button>
                            </div>
                            <small class="input-help emi-method-help">Reducing balance calculates interest on
                                outstanding amount. Flat rate calculates on original principal.</small>
                        </div>
                    </div>
                    <div class="calculator-results">
                        <!-- Fixed EMI Input (visible when calculating tenure or rate) -->
                        <div class="input-group fixed-emi-group" id="fixedEmiGroup" style="display: none;">
                            <label for="fixedEMI">Fixed Monthly EMI (₹)</label>
                            <input type="number" id="fixedEMI" class="input-field input-highlight" value="15000"
                                min="1000" max="10000000" step="100" placeholder="Enter your desired EMI">
                            <small class="input-help">Enter the EMI amount you want to pay monthly</small>
                        </div>

                        <div class="output-section">
                            <!-- Dynamic result - changes based on calculation mode -->
                            <div class="output-item calculated-result" id="calculatedResultRow">
                                <span id="calculatedResultLabel">Monthly EMI</span>
                                <span id="calculatedResultValue" class="result-highlight">₹0</span>
                            </div>
                            <div class="output-item" id="tenureResultRow" style="display: none;">
                                <span>Required Tenure</span>
                                <span id="calculatedTenure" class="result-highlight">0 months</span>
                            </div>
                            <div class="output-item" id="rateResultRow" style="display: none;">
                                <span>Required Interest Rate</span>
                                <span id="calculatedRate" class="result-highlight">0%</span>
                            </div>
                            <div class="output-item"><span>Total Interest</span><span id="totalInterest">₹0</span></div>
                            <div class="output-item"><span>Total Payment</span><span id="totalPayment">₹0</span></div>
                        </div>
                        <div id="emiChartContainer"><canvas id="emiChart"></canvas></div>
                    </div>
                </div>
                <div class="amortization-table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Month #</th>
                                <th>Principal Paid</th>
                                <th>Interest Paid</th>
                                <th>Total Payment</th>
                                <th>Balance</th>
                            </tr>
                        </thead>
                        <tbody id="amortizationBody"></tbody>
                    </table>
                </div>
            </section>

            <section id="gst-calculator-section" class="calculator-panel content-section">
                <h2>GST Calculator</h2>
                <div class="input-group">
                    <label for="gstAmount">Amount</label>
                    <input type="number" id="gstAmount" class="input-field" placeholder="Enter amount">
                </div>
                <div class="input-group">
                    <label for="gstRate">Total GST Rate (%)</label>
                    <input type="number" id="gstRate" class="input-field" value="18">
                    <div class="button-group">
                        <button class="btn gst-rate-btn" data-rate="5">5%</button>
                        <button class="btn gst-rate-btn" data-rate="12">12%</button>
                        <button class="btn gst-rate-btn active" data-rate="18">18%</button>
                        <button class="btn gst-rate-btn" data-rate="28">28%</button>
                    </div>
                </div>
                <div class="control-group">
                    <strong>Calculation Method</strong>
                    <div class="button-group">
                        <button id="addGstBtn" class="btn active">Add GST</button>
                        <button id="removeGstBtn" class="btn">Remove GST</button>
                    </div>
                </div>
                <div class="control-group">
                    <strong>Transaction Type</strong>
                    <div class="button-group">
                        <button id="intraStateBtn" class="btn active">Intra-State (SGST + CGST)</button>
                        <button id="interStateBtn" class="btn">Inter-State (IGST)</button>
                    </div>
                </div>
                <div class="output-section">
                    <div class="output-item"><span>Base Amount</span><span id="baseAmountOutput">₹0.00</span></div>
                    <div id="gst-breakdown">
                        <div id="intraStateOutput">
                            <div class="output-item"><span>CGST Amount</span><span id="cgstAmountOutput">₹0.00</span>
                            </div>
                            <div class="output-item"><span>SGST Amount</span><span id="sgstAmountOutput">₹0.00</span>
                            </div>
                        </div>
                        <div id="interStateOutput" style="display: none;">
                            <div class="output-item"><span>IGST Amount</span><span id="igstAmountOutput">₹0.00</span>
                            </div>
                        </div>
                    </div>
                    <div class="output-item total-highlight"><span>Total Amount (Incl. GST)</span><span
                            id="totalAmountOutput">₹0.00</span></div>
                </div>
            </section>

            <section id="prices-section" class="calculator-panel content-section">
                <h2>Solar Package Pricing Calculator</h2>
                <p>Calculate accurate pricing for your on-grid solar installation based on system capacity and customer
                    type.</p>

                <div class="pricing-layout">
                    <div class="pricing-inputs">
                        <div class="input-group">
                            <label for="solarCapacity">System Capacity (kWp)</label>
                            <input type="number" id="solarCapacity" class="input-field" value="3" min="1" max="100"
                                step="0.1" placeholder="Enter capacity in kWp">
                            <small class="input-help">Enter the total system capacity</small>
                        </div>

                        <div class="input-group">
                            <label for="customerType">Customer Type</label>
                            <div class="button-group">
                                <button id="residentialBtn" class="btn active" data-type="residential">Residential DCR
                                    (550Wp)</button>
                                <button id="commercialBtn" class="btn" data-type="commercial">Commercial NDCR
                                    (580Wp)</button>
                            </div>
                        </div>

                        <div class="input-group">
                            <label for="inverterType">Inverter Type</label>
                            <div class="button-group">
                                <button id="singlePhaseBtn" class="btn active" data-type="single">1-Phase
                                    (₹6,000/kWp)</button>
                                <button id="threePhaseBtn" class="btn" data-type="three">3-Phase (₹2,500/kWp)</button>
                            </div>
                        </div>

                        <div class="input-group">
                            <label for="customProfitMargin">Profit Margin (%)</label>
                            <input type="number" id="customProfitMargin" class="input-field" value="20" min="0" max="50"
                                step="0.1" placeholder="Enter profit margin %">
                            <small class="input-help">Default: 20% of subtotal</small>
                        </div>

                        <div class="input-group">
                            <label for="pricingGstRate">GST Rate (%)</label>
                            <input type="number" id="pricingGstRate" class="input-field" value="5" min="0" max="28"
                                step="0.1" placeholder="Enter GST rate %">
                            <small class="input-help">Default: 5% GST on solar systems</small>
                        </div>
                    </div>

                    <div class="pricing-output">
                        <div class="output-section-pricing">
                            <h3>Price Breakdown</h3>
                            <div class="pricing-item">
                                <div class="item-label">
                                    <span class="label-main">Solar Panels</span>
                                    <small class="label-sub" id="panelRateText">(₹27/W × 550Wp panels)</small>
                                </div>
                                <span class="item-price" id="solarPanelsPrice">₹0</span>
                            </div>
                            <div class="pricing-item">
                                <div class="item-label">
                                    <span class="label-main">Inverter</span>
                                    <small class="label-sub" id="inverterRateText">(₹6,000/kWp)</small>
                                </div>
                                <span class="item-price" id="inverterPrice">₹0</span>
                            </div>
                            <div class="pricing-item">
                                <div class="item-label">
                                    <span class="label-main">Structure</span>
                                    <small class="label-sub">(₹4.5/W)</small>
                                </div>
                                <span class="item-price" id="structurePrice">₹0</span>
                            </div>
                            <div class="pricing-item">
                                <div class="item-label">
                                    <span class="label-main">BOS (Balance of System)</span>
                                    <small class="label-sub">(₹2/W)</small>
                                </div>
                                <span class="item-price" id="bosPrice">₹0</span>
                            </div>
                            <div class="pricing-item">
                                <div class="item-label">
                                    <span class="label-main">Installation Charges</span>
                                    <small class="label-sub">(₹4/W)</small>
                                </div>
                                <span class="item-price" id="installationPrice">₹0</span>
                            </div>
                            <div class="pricing-item">
                                <div class="item-label">
                                    <span class="label-main">Civil Work for Legs</span>
                                    <small class="label-sub">(₹1.2/W × DC)</small>
                                </div>
                                <span class="item-price" id="civilWorkPrice">₹0</span>
                            </div>
                            <div class="pricing-item">
                                <div class="item-label">
                                    <span class="label-main">Net Metering Assistance</span>
                                    <small class="label-sub">(₹6,600 for ≤10 kWp)</small>
                                </div>
                                <span class="item-price" id="netMeteringPrice">₹6,600</span>
                            </div>
                            <div class="pricing-item">
                                <div class="item-label">
                                    <span class="label-main">Wiring</span>
                                    <small class="label-sub">(₹5/W × DC)</small>
                                </div>
                                <span class="item-price" id="wiringPrice">₹0</span>
                            </div>
                            <div class="pricing-item">
                                <div class="item-label">
                                    <span class="label-main">Transportation</span>
                                    <small class="label-sub">(₹5,000 per system)</small>
                                </div>
                                <span class="item-price" id="transportationPrice">₹5,000</span>
                            </div>
                            <div class="pricing-item subtotal">
                                <div class="item-label"><span class="label-main">Subtotal</span></div>
                                <span class="item-price" id="subtotalPrice">₹0</span>
                            </div>
                            <div class="pricing-item">
                                <div class="item-label">
                                    <span class="label-main">Profit Margin <span
                                            id="profitMarginPercentText">(20%)</span></span>
                                </div>
                                <span class="item-price" id="profitMargin">₹0</span>
                            </div>
                            <div class="pricing-item">
                                <div class="item-label"><span class="label-main">Price (Excl. GST)</span></div>
                                <span class="item-price" id="finalPrice">₹0</span>
                            </div>
                            <div class="pricing-item">
                                <div class="item-label"><span class="label-main">GST Amount</span></div>
                                <span class="item-price" id="pricingGstAmount">₹0</span>
                            </div>
                            <div class="pricing-item final-total">
                                <div class="item-label"><span class="label-main">Final Price (Incl. GST)</span></div>
                                <span class="item-price" id="finalPriceWithGst">₹0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="receipt-generator-section" class="calculator-panel content-section">
                <h2>Payment Receipt Generator</h2>
                <div class="no-print-area">
                    <p>Enter details below to generate a receipt.</p>
                    <div class="pricing-layout">
                        <div class="pricing-inputs">
                            <h3>Customer Details</h3>
                            <div class="input-group">
                                <label for="receiptName">Customer Name</label>
                                <input type="text" id="receiptName" class="input-field" placeholder="Enter name">
                            </div>
                            <div class="input-group">
                                <label for="receiptAddress">Address (Optional)</label>
                                <textarea id="receiptAddress" class="input-field" rows="2"
                                    placeholder="Enter address"></textarea>
                            </div>
                            <div class="input-group">
                                <label for="receiptPhone">Phone Number</label>
                                <input type="text" id="receiptPhone" class="input-field" placeholder="Enter phone">
                            </div>
                            <div class="input-group">
                                <label for="receiptEmail">Email (Optional)</label>
                                <input type="email" id="receiptEmail" class="input-field" placeholder="Enter email">
                            </div>
                            <div class="input-group">
                                <label for="receiptGstin">Customer GSTIN (Optional)</label>
                                <input type="text" id="receiptGstin" class="input-field" placeholder="Enter GSTIN">
                            </div>
                        </div>

                        <div class="pricing-inputs">
                            <h3>Receipt Settings</h3>
                            <div class="input-group">
                                <label for="receiptDate">Payment Date</label>
                                <input type="date" id="receiptDate" class="input-field">
                            </div>
                            <div class="input-group">
                                <label for="receiptNumber">Receipt Number</label>
                                <input type="text" id="receiptNumber" class="input-field"
                                    placeholder="e.g. R2VADV0125-0001">
                            </div>
                            <div class="input-group">
                                <label for="receiptPrevPayment">Previous Payments (₹)</label>
                                <input type="number" id="receiptPrevPayment" class="input-field" value="0">
                            </div>
                            <div class="input-group">
                                <label for="receiptCurrentPayment">Current Payment (₹)</label>
                                <input type="number" id="receiptCurrentPayment" class="input-field" value="0">
                            </div>
                        </div>
                    </div>

                    <!-- Receipt Items Section -->
                    <div class="receipt-items-input-section">
                        <h3>Receipt Items</h3>
                        <p class="input-help">Add items to your receipt. Each item can have a different GST rate.</p>

                        <div id="receiptItemsContainer">
                            <!-- Item 1 (default) -->
                            <div class="receipt-item-row" data-item-index="0">
                                <div class="item-row-header">
                                    <span class="item-number">Item 1</span>
                                    <button type="button" class="btn-remove-item" onclick="removeReceiptItem(this)"
                                        title="Remove Item">&times;</button>
                                </div>
                                <div class="item-fields">
                                    <div class="input-group item-desc">
                                        <label>Description</label>
                                        <textarea class="input-field item-description" rows="2"
                                            placeholder="e.g. Supply of 10 x 550Wp Solar Panels"></textarea>
                                    </div>
                                    <div class="input-group item-qty">
                                        <label>Qty</label>
                                        <input type="number" class="input-field item-quantity" value="1" min="1">
                                    </div>
                                    <div class="input-group item-amount">
                                        <label>Total Amt (Incl. GST) ₹</label>
                                        <input type="number" class="input-field item-total-amount"
                                            placeholder="e.g. 200000">
                                    </div>
                                    <div class="input-group item-gst">
                                        <label>GST %</label>
                                        <select class="input-field item-gst-rate">
                                            <option value="5" selected>5%</option>
                                            <option value="12">12%</option>
                                            <option value="18">18%</option>
                                            <option value="28">28%</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button type="button" id="addReceiptItemBtn" class="btn" style="margin-top: 1rem;">
                            + Add Another Item
                        </button>
                    </div>

                    <div class="control-group" style="text-align: center; margin-top: 2rem;">
                        <button id="generateReceiptBtn" class="btn active"
                            style="font-size: 1.1rem; padding: 0.8rem 2rem;">Generate Receipt Preview</button>
                        <button id="printReceiptBtn" class="btn" style="font-size: 1.1rem; padding: 0.8rem 2rem;">Print
                            / Save as PDF</button>
                    </div>
                </div>

                <!-- Receipt Template (Visible only when generated/printing) -->
                <div id="receiptPreview">
                    <!-- Header -->
                    <div class="receipt-header">
                        <div class="receipt-title-section">
                            <h1>PAYMENT RECEIPT</h1>
                            <p id="receiptNumberDisplay">R2VADV...</p>
                        </div>
                        <div class="receipt-logo-section">
                            <img src="Logo.png" alt="Ray2Volt Logo" class="receipt-logo">
                        </div>
                    </div>

                    <!-- Company & Customer Info Table -->
                    <table class="receipt-info-table">
                        <tr class="header-row">
                            <td>Ray2Volt Solar Private Limited</td>
                            <td>Bill To:</td>
                        </tr>
                        <tr>
                            <td class="from-cell">
                                <p>1-278, Pichatur road, Srikalahasti, 517640, Andhra Pradesh.</p>
                                <p><span class="info-label">Phone:</span> +91 96 6606 8140</p>
                                <p><span class="info-label">Email:</span> ray2voltsolar@gmail.com</p>
                                <br>
                                <p><span class="info-label">GSTIN:</span> 37AAOCR4626E1Z6</p>
                                <p><span class="info-label">CIN:</span> U35104AP2025PTC118526</p>
                            </td>
                            <td class="to-cell">
                                <p><span class="info-label">Name:</span> <span id="dispName"></span></p>
                                <p><span class="info-label">Address:</span> <span id="dispAddress"></span></p>
                                <p><span class="info-label">Phone Number:</span> <span id="dispPhone"></span></p>
                                <p><span class="info-label">Email:</span> <span id="dispEmail"></span></p>
                                <br>
                                <p><span class="info-label">GSTIN:</span> <span id="dispGst"></span></p>
                                <p><span class="info-label">Payment Date:</span> <span id="dispDate"></span></p>
                            </td>
                        </tr>
                    </table>

                    <!-- Items Table -->
                    <table class="receipt-items-table">
                        <thead>
                            <tr>
                                <th style="width: 35px;">SN</th>
                                <th>Description of Goods / Services</th>
                                <th style="width: 45px;">Qty</th>
                                <th style="width: 90px;">Price/Unit (₹)</th>
                                <th style="width: 55px;">GST %</th>
                                <th style="width: 100px;">Amount (₹)</th>
                                <th style="width: 110px;">Total Amount (₹)</th>
                            </tr>
                        </thead>
                        <tbody id="receiptItemsTableBody">
                            <!-- Populated by JS -->
                        </tbody>
                        <tfoot>
                            <tr class="grand-total-row">
                                <td colspan="6" style="text-align: right;"><strong>Grand Total:</strong></td>
                                <td id="dispGrandTotal"></td>
                            </tr>
                        </tfoot>
                    </table>

                    <!-- Amount in Words -->
                    <div class="amount-words-section">
                        <strong>Amount in Words:</strong> <span id="dispAmountWords"></span>
                    </div>

                    <!-- Payments Summary -->
                    <table class="payments-table">
                        <tr>
                            <td>Previous Payments</td>
                            <td id="dispPrevPayment"></td>
                        </tr>
                        <tr>
                            <td>Current Payment</td>
                            <td id="dispCurrPayment"></td>
                        </tr>
                        <tr class="balance-row">
                            <td>Balance Due</td>
                            <td id="dispBalance"></td>
                        </tr>
                    </table>

                    <!-- Bank Details -->
                    <div class="bank-details-section">
                        <h4>Bank Details for Payment</h4>
                        <div class="bank-grid">
                            <span class="bank-label">Account Name</span>
                            <span class="bank-value">: Ray2Volt Solar Private Limited</span>
                            <span class="bank-label">Account Number</span>
                            <span class="bank-value">: 50200112654604</span>
                            <span class="bank-label">Bank Name</span>
                            <span class="bank-value">: HDFC Bank</span>
                            <span class="bank-label">Branch</span>
                            <span class="bank-value">: Srikalahasti</span>
                            <span class="bank-label">IFSC Code</span>
                            <span class="bank-value">: HDFC0002436</span>
                        </div>
                    </div>

                    <!-- Signature Section -->
                    <div class="signature-section">
                        <p class="signature-name">Harsha Vardhan Reddy</p>
                        <p class="signature-title">Managing Director</p>
                    </div>

                    <!-- Footer Line -->
                    <div class="receipt-footer-line"></div>
                </div>
            </section>

            <!-- Invoice Generator Section -->
            <section id="invoice-generator-section" class="calculator-panel content-section">
                <h2>Invoice Generator</h2>
                <div class="no-print-area">
                    <p>Enter details below to generate a GST invoice.</p>
                    <div class="pricing-layout">
                        <div class="pricing-inputs">
                            <h3>Customer Details</h3>
                            <div class="input-group">
                                <label for="invoiceName">Customer Name</label>
                                <input type="text" id="invoiceName" class="input-field" placeholder="Enter name">
                            </div>
                            <div class="input-group">
                                <label for="invoiceAddress">Address (Optional)</label>
                                <textarea id="invoiceAddress" class="input-field" rows="2"
                                    placeholder="Enter address"></textarea>
                            </div>
                            <div class="input-group">
                                <label for="invoicePhone">Phone Number</label>
                                <input type="text" id="invoicePhone" class="input-field" placeholder="Enter phone">
                            </div>
                            <div class="input-group">
                                <label for="invoiceEmail">Email (Optional)</label>
                                <input type="email" id="invoiceEmail" class="input-field" placeholder="Enter email">
                            </div>
                            <div class="input-group">
                                <label for="invoiceGstin">Customer GSTIN (Optional)</label>
                                <input type="text" id="invoiceGstin" class="input-field" placeholder="Enter GSTIN">
                            </div>
                        </div>

                        <div class="pricing-inputs">
                            <h3>Invoice Settings</h3>
                            <div class="input-group">
                                <label for="invoiceGstType">GST Type</label>
                                <div class="button-group">
                                    <button class="btn active invoice-gst-btn" data-type="Intrastate">Intrastate
                                        (CGST+SGST)</button>
                                    <button class="btn invoice-gst-btn" data-type="Interstate">Interstate
                                        (IGST)</button>
                                </div>
                            </div>
                            <div class="input-group">
                                <label for="invoiceDate">Invoice Date</label>
                                <input type="date" id="invoiceDate" class="input-field">
                            </div>
                            <div class="input-group">
                                <label for="invoiceNumber">Invoice Number</label>
                                <input type="text" id="invoiceNumber" class="input-field"
                                    placeholder="e.g. R2VINV0125-0001">
                            </div>
                        </div>
                    </div>

                    <!-- Invoice Items Section -->
                    <div class="invoice-items-input-section">
                        <h3>Invoice Items</h3>
                        <p class="input-help">Add items to your invoice. Each item can have a different GST rate.</p>

                        <div id="invoiceItemsContainer">
                            <!-- Item 1 (default) -->
                            <div class="invoice-item-row" data-item-index="0">
                                <div class="item-row-header">
                                    <span class="item-number">Item 1</span>
                                    <button type="button" class="btn-remove-item" onclick="removeInvoiceItem(this)"
                                        title="Remove Item">&times;</button>
                                </div>
                                <div class="item-fields">
                                    <div class="input-group item-desc">
                                        <label>Description</label>
                                        <textarea class="input-field item-description" rows="2"
                                            placeholder="e.g. Supply of 10 x 550Wp Solar Panels"></textarea>
                                    </div>
                                    <div class="input-group item-qty">
                                        <label>Qty</label>
                                        <input type="number" class="input-field item-quantity" value="1" min="1">
                                    </div>
                                    <div class="input-group item-amount">
                                        <label>Total Amt (Incl. GST) ₹</label>
                                        <input type="number" class="input-field item-total-amount"
                                            placeholder="e.g. 200000">
                                    </div>
                                    <div class="input-group item-gst">
                                        <label>GST %</label>
                                        <select class="input-field item-gst-rate">
                                            <option value="5" selected>5%</option>
                                            <option value="12">12%</option>
                                            <option value="18">18%</option>
                                            <option value="28">28%</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button type="button" id="addInvoiceItemBtn" class="btn" style="margin-top: 1rem;">
                            + Add Another Item
                        </button>
                    </div>

                    <div class="control-group" style="text-align: center; margin-top: 2rem;">
                        <button id="generateInvoiceBtn" class="btn active"
                            style="font-size: 1.1rem; padding: 0.8rem 2rem;">Generate Invoice Preview</button>
                        <button id="printInvoiceBtn" class="btn" style="font-size: 1.1rem; padding: 0.8rem 2rem;">Print
                            / Save as PDF</button>
                    </div>
                </div>

                <!-- Invoice Template -->
                <div id="invoicePreview">
                    <!-- Header -->
                    <div class="invoice-header">
                        <div class="invoice-title-section">
                            <h1>TAX INVOICE</h1>
                            <p id="invoiceNumberDisplay">R2VINV...</p>
                        </div>
                        <div class="invoice-logo-section">
                            <img src="Logo.png" alt="Ray2Volt Logo" class="invoice-logo">
                        </div>
                    </div>

                    <!-- Company & Customer Info Table -->
                    <table class="invoice-info-table">
                        <tr class="header-row">
                            <td>Ray2Volt Solar Private Limited</td>
                            <td>Bill To:</td>
                        </tr>
                        <tr>
                            <td class="from-cell">
                                <p>1-278, Pichatur road, Srikalahasti, 517640, Andhra Pradesh.</p>
                                <p><span class="invoice-info-label">Phone:</span> +91 96 6606 8140</p>
                                <p><span class="invoice-info-label">Email:</span> ray2voltsolar@gmail.com</p>
                                <br>
                                <p><span class="invoice-info-label">GSTIN:</span> 37AAOCR4626E1Z6</p>
                                <p><span class="invoice-info-label">CIN:</span> U35104AP2025PTC118526</p>
                            </td>
                            <td class="to-cell">
                                <p><span class="invoice-info-label">Name:</span> <span id="invDispName"></span></p>
                                <p><span class="invoice-info-label">Address:</span> <span id="invDispAddress"></span>
                                </p>
                                <p><span class="invoice-info-label">Phone Number:</span> <span id="invDispPhone"></span>
                                </p>
                                <p><span class="invoice-info-label">Email:</span> <span id="invDispEmail"></span></p>
                                <br>
                                <p><span class="invoice-info-label">GSTIN:</span> <span id="invDispGst"></span></p>
                                <p><span class="invoice-info-label">Invoice No:</span> <span
                                        id="invDispInvoiceNo"></span></p>
                                <p><span class="invoice-info-label">Invoice Date:</span> <span id="invDispDate"></span>
                                </p>
                            </td>
                        </tr>
                    </table>

                    <!-- Items Table -->
                    <table class="invoice-items-table">
                        <thead>
                            <tr>
                                <th style="width: 35px;">SN</th>
                                <th>Description of Goods / Services</th>
                                <th style="width: 45px;">Qty</th>
                                <th style="width: 90px;">Price/Unit (₹)</th>
                                <th style="width: 55px;">GST %</th>
                                <th style="width: 100px;">Amount (₹)</th>
                                <th style="width: 110px;">Total Amount (₹)</th>
                            </tr>
                        </thead>
                        <tbody id="invItemsTableBody">
                            <!-- Populated by JS -->
                        </tbody>
                        <tfoot>
                            <tr class="grand-total-row">
                                <td colspan="6" style="text-align: right;"><strong>Grand Total:</strong></td>
                                <td id="invDispGrandTotal"></td>
                            </tr>
                        </tfoot>
                    </table>

                    <!-- Amount in Words -->
                    <div class="invoice-amount-words">
                        <strong>Amount in Words:</strong> <span id="invDispAmountWords"></span>
                    </div>

                    <!-- Bank Details -->
                    <div class="invoice-bank-section">
                        <h4>Bank Details for Payment</h4>
                        <div class="invoice-bank-grid">
                            <span class="bank-label">Account Name</span>
                            <span class="bank-value">: Ray2Volt Solar Private Limited</span>
                            <span class="bank-label">Account Number</span>
                            <span class="bank-value">: 50200112654604</span>
                            <span class="bank-label">Bank Name</span>
                            <span class="bank-value">: HDFC Bank</span>
                            <span class="bank-label">Branch</span>
                            <span class="bank-value">: Srikalahasti</span>
                            <span class="bank-label">IFSC Code</span>
                            <span class="bank-value">: HDFC0002436</span>
                        </div>
                    </div>

                    <!-- Signature Section -->
                    <div class="invoice-signature">
                        <p class="signature-name">Harsha Vardhan Reddy</p>
                        <p class="signature-title">Managing Director</p>
                    </div>

                    <!-- Footer Line -->
                    <div class="invoice-footer-line"></div>
                </div>
            </section>
        </main>
    </div>

    <!-- Overlay for Mobile Sidebar -->
    <div class="overlay" id="overlay"></div>

    <script src="script.js"></script>
    <script src="receipt.js"></script>
    <script src="invoice.js"></script>
</body>

</html>